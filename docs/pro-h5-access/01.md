# 一、HTML5 辅助功能介绍

在这一章中，我将介绍可访问性，定义它是什么，并讨论为什么您应该注意减少在您构建的系统中可能存在的对许多人的访问障碍。我们还将关注 HTML5，并研究它与 HTML 4 的主要差异——您将看到这对可访问性意味着什么，以及这些差异将如何影响您构建网站和应用的方式。

### HTML5 简介:新浪潮

HTML5 来了。它是网络的新通用语。那是什么？HTML5 是 HTML 4、XHTML1 和 DOM Level 2 HTML 的新版本。它将 HTML 从一种相对简单的文档标记语言转变为一个复杂的 web 应用平台，提供了大量新的、丰富的应用编程接口(API)。

正如生活中所有的重大变化一样，这种转变可能不会一帆风顺。这样一个添加了大量新元素和属性的重大转变，对作为作者的你以及潜在的消费者都提出了特殊的挑战。

HTML 4 很容易理解，并提供了可以以富有想象力的方式使用的特性。通过将这些功能与级联样式表(CSS)和 JavaScript 等其他语言结合使用，开发人员可以做越来越复杂的事情，推动用户交互模型的发展。

随着 Web 2.0 类型的内容(如 AJAX、动态内容更新和更多客户端处理)的出现，我们看到各种优秀的、复杂的应用正在从通常语义受限的标记语言中开发出来。

这种新一波光滑的小部件——有时是奇怪的交互模型——经常给用户带来许多挑战。如果用户有残疾，挑战会更大，因为用户可能无法从键盘访问重要的小部件功能，或者内容更新可能会在屏幕阅读器用户上丢失。早在 HTML5 之前，许多 web 设计者就开始真正关心可访问性，并寻找方法来确保他们的网站和应用可以被最广泛的受众使用。于是像网络标准项目这样的草根运动诞生了。一个活跃而充满活力的社区出现了，他们将改善用户体验和设计质量的挑战视为战斗的号角。

如果你正在读这篇文章，很可能你是一个网页设计师或开发者，你想知道更多关于 HTML5 的知识，以及它与可访问性的关系。所以你来对地方了。这本书假设你对 HTML 4 有一定的了解，并且有一些 CSS 经验，可能还有一些 JavaScript 经验。它还假设您热衷于学习使用 HTML5 开发健壮的网站和应用。

如果你不是 CSS 或 JavaScript 专家，甚至不太了解 HTML，不要担心！这本书旨在提供足够的在线材料和资源参考，让你很快跟上进度。HTML5 规范是出了名的大(大约 800 页)，所以这本书试图做的是提取与开发可访问的网站最相关的部分。这本书(连同其他一些更通用的 HTML5 资源)应该可以帮助你理解 HTML5 这个游戏规则改变者，以及可访问性。

在本书中，我将尝试与你分享我对这两者的了解——作为一名网页设计师和开发者，以及作为一名与残疾人一起工作了近 10 年的人。我也是 HTML5 工作组的成员，我的意见特别强调可访问性，并试图确保(与许多其他人一起)HTML5 规范能够最好地满足最广泛用户的需求，包括残疾人。

#### HTML5 与 HTML 4

那么 HTML5 有什么新的地方，和 HTML 4 有什么不同？首先，HTML5 的设计不仅仅是标记文本或超文本标记语言。(如果你认为是这样，我原谅你。)其次，许多新的 API 现在包含在新的规范中，乍一看，它们似乎根本不属于文档标记语言。

这些 API 多种多样，包括 Web 工作器(一种独立于任何用户界面脚本在后台运行脚本的 API)、Web Storage(类似于 HTTP 会话 cookies，用于在客户端存储结构化数据)和 Web Sockets(用于与服务器端进程的双向通信)。当你考虑到通过`<video>`和`<audio>`元素对视频和音频的原生“在浏览器中”支持时——这标志着从 Flash 等浏览器插件解决方案以及新的 2D 绘图 API `<canvas>`的重大转变——很明显，HTML5 远远不仅仅是一种文档标记语言，而是超越其他早期版本的 HTML 的一次巨大飞跃。

![Image](img/square.jpg) **注**新增的功能是一件喜忧参半的事情。有了这些新的语言特性，对于作者和用户来说，将会有更多的功能，但也更复杂。然而，在用户界面设计以及如何对项目进行编码方面采用最佳实践将对你大有裨益。所以，虽然感觉有点像你不得不重新开始，但我希望你会明白，事情并不完全是那样的。你会有更多的选择，当然，也会学到一些东西。我也希望你可能知道的关于使用 HTML 4 和 CSS/JavaScript 的组合来使东西变得可访问的好东西仍然经常适用。不要担心保持事情简单——只要为正确的工作使用正确的工具就可以让你走得很远。

#### HTML5 语法

在语法方面，HTML5 是一种戴着两顶帽子的语言。它可以写成 HTML 和 XML(也称为 XHTML，是 HTML 的 XML 序列化，或者换句话说，是 HTML 的类似 XML 的版本，将 XML 语法的一些规则引入 HTML)。

根据您自己的需求，您可能需要为您的用户提供更严格的格式良好的 XML 类型文档。这样做需要使用 XML 解析器，它用于处理 XML 文档。或者，由语法上更宽松的 HTML 组成的内容可能满足您的需要，在这种情况下，您可以使用 HTML 解析器。“更宽松的 HTML”指的是可能有点马虎但仍然有效的代码。

##### html 5<！DOCTYPE >

在 HTML 和 XHTML1 的早期版本中，文档是 HTML 还是 XHTML 主要是由 DOCTYPE 定义的(DOCTYPE 是网页标题中的一种可怕的代码，没有人真正知道它是做什么的，它看起来神秘而无意义，尽管它不是这两种东西)。DOCTYPE 实际上是让机器来处理的，作为一种识别文档内容应该符合的词汇表的方式。

在以前的版本中，您有以下文档类型:

*对于 HTML 4.01 严格:*

`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">`

*对于 HTML 4.01 过渡版:*

`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">`

*或为 XHTML 1.0 严格版*

`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">`

*或 XHTML 1.0 过渡版*

`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">`

在 HTML5 中，就简单多了。下面是新的 HTML5 文档类型:

`<!DOCTYPE html>`

这很简洁，当然也很容易记住。还有其他的优势。例如，您不再需要像在以前的 HTML 版本中那样引用 DTD(文档类型定义),所以它非常优雅，并将在所有较新的浏览器中触发标准模式。

##### 一些文档类型历史

触发怪癖模式是开发人员用来确保向后兼容旧浏览器的一种技术。之所以需要这样做，是因为不同浏览器在呈现代码时的实际特性，以及像 W3C DOM 这样的技术规范的不良或不完整的实现。

由于不同的浏览器制造商选择以不同的方式实现规范，开发人员被迫利用页面中由 DTD 触发的各种呈现模式，以查看文档将如何被解析，在标准模式、几乎标准模式和古怪模式下测试他们的内容。

我希望现在有了 HTML5，我们越来越接近“作者一次，然后发布到许多设备/平台”的模式。如果你不记得所有这些，那你应该觉得自己很幸运——这一点都不好玩，而且让 web 开发变得很痛苦。如果你记得所有这些，喝一杯烈酒。如果你想深入了解，请访问`[`en.wikipedia.org/wiki/Quirks_mode`](http://en.wikipedia.org/wiki/Quirks_mode)`。

![Image](img/square.jpg) **注意**在 XHTML 中，实际上并不需要 DOCTYPE，但是当你有一个所谓的*多语言文档*(这是一个既可以作为 XHTML 又可以作为 HTML 的混合文档)或者你需要在文档中声明实体引用(符号、数学符号、语言字符等等)时，你可能需要使用一个 DOCTYPE。

想想也有道理。如果你和我在一个聚会上，我说，“蔬菜萨摩萨在桌子上，在一个身材很棒的女人旁边，”你会明白我的意思。对于一个浏览器来说，使用单词*表*和*图*意味着完全不同的事情；因此，为了让软件知道如何处理其内容，向浏览器解释必须解析的文档中使用了什么语言是至关重要的。

如果一群浏览者在聚会上，那句话的含义将与我们日常生活中的含义完全不同(不是说浏览者吃蔬菜凉拌菜)。

![Image](img/square.jpg)对于文档类型、解析规则和 MIME 类型的整个历史的有趣概述(稍后将详细介绍)，我推荐阅读伊恩·希克森的文章“将 html 作为有害的文本/html 发送”，该文章解释了一些历史，这些东西是如何产生的，以及一些最佳实践。你可以在`[`hixie.ch/advocacy/xhtml`](http://hixie.ch/advocacy/xhtml).`找到它

##### HTML5 和 XHTML 作为文本/html(它是一个 MIME 字段)

现在，在 HTML5 中，如何解析内容更多地取决于媒体类型的选择，而不是文档类型。

这意味着 XML 类型的文档需要被赋予 XML 媒体类型，比如`application/xhtml+xml`或`application/xml`。相比之下，如果你使用 HTML 语法，你就把文档当作`text/html`。这通常在`HTTP – Content type Header`中完成，它采用以下形式:

`<meta http-equiv="Content-Type" content="text/html; charset=utf-8">`

此标签出现在文档的页眉中。(如果有服务器端编码印章，可以用`Content Negotiation`。更多详情见`[www.w3.org/2003/01/xhtml-mimetype/content-negotiation](http://www.w3.org/2003/01/xhtml-mimetype/content-negotiation)`。)

清单 1-1 是一个符合 HTML 语法的示例文档。

***清单 1-1。** HTML 语法*

`<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>HTML Syntax Document</title>
  </head>
  <body>
    <p>This doc is HTML.</p>
  </body>
</html>`

可用于 HTML5 的另一种语法是 XML。以下是一些需要注意的事项:

*   所有具有`text/html`媒体类型的文档(如 HTML5 之前的旧语言或具有 XHTML1 DOCTYPE 的文档)都将使用当前 HTML 规范定义的算法进行解析。
*   XHTML 不得再充当`text/html`，必须使用`application/xhtml+xml`或`application/xml`。
*   HTML 文档必须作为`text/html`。
*   对于本书的大部分内容，我们将处理 HTML 和内容类型`text/html`，它包含在前面显示的文档头中。
*   `<meta charset="UTF-8">`现在可以用来指定 UTF-8 编码。这取代了对更长的`<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">`的需要，尽管该语法仍然是允许的。

##### 我应该使用什么语法？

你应该能够自己决定你希望用什么方式创作，因为根据你以前的创作实践，这一点你应该已经很清楚了。然而，你可能会问，“我使用什么语法？”如果你问这个问题，你可能会坚持使用`text/html` mime 类型作为 HTML 来提供你的内容，因为在你的项目中事先没有使用更严格的 XML 类型语法的要求。

XML 遵循简单的规则，如要求所有内容区分大小写，要求您关闭所有标签，并遵循其他类似的准则，而 HTML 内容则更宽松，它不区分大小写，未关闭的标签不会破坏您的页面，等等。

![Image](img/square.jpg) **注意**如果一个不正确或编写不当的 XML 文档被不符合格式良好规则的更严格的 XML 解析器解析，那么该文档可能不会显示——这是一个您可能不希望出现的严重错误。

如果对网络上的所有 HTML 文档(无论是 HTML 的早期版本还是最新版本)都应用相同的规则，网络就会崩溃，什么都不会起作用！因此，虽然 HTML5 需要有处理这两种内容的规则(它确实是这样做的)，但它也必须以一种仍然可用的方式来处理格式不良的 HTML(或后来被称为*标签汤*)。

### 新元素

现在我们将看看 HTML5 规范中引入的一些新元素，以及它们的用途。数量相当多，其中一个棘手的问题是确定在什么地方和什么时候使用它们。事实上，大多数新元素都“言出必行”，这让事情变得简单了一些。要用大部分元素，就不用想太深了。可能不太清楚其他一些是用来做什么的，或者你什么时候会使用它们。

![Image](img/square.jpg) **注意**现在不要担心将 HTML5 元素添加到你的项目中，即使你不完全确定对某个元素的支持或者它是否能百分之百地工作。当一个新元素被浏览器或辅助技术解析时，它只是不理解，它被作为纯文本处理——通常不会破坏任何东西。

一些 HTML5 元素实际上可能不会在浏览器中呈现或显示(主要是因为它们可能还不被它理解，尽管支持正在迅速改善)。还有一种可能是，虽然它们可以直观地显示，但它们的语义可能会被辅助技术误解或忽略。当这种情况发生时，你不需要担心它们会触发任何不寻常的行为。然而，如果在浏览器中触发了一些奇怪的行为或一些奇怪的渲染怪癖(任何参与 web 开发超过五年的人都应该熟悉 CSS 编码带来的这些怪癖)，您就发现了一个 bug！

处理 bug 的最好方法是向 W3C 和/或浏览器制造商报告。这些有价值的信息确实有助于使事情变得更好，并改进软件的未来版本。

更有可能的是，你会发现有人在某个地方发现了这个 bug，一群开发人员已经找到了一个修复方法或者说是*黑掉了*。黑客是一件好坏参半的事情。理想情况下，我们不需要做这些，但是这个世界不是一个简单的地方，不是吗？

虽然我们将在后面的章节中深入讨论以下内容，但这里还是概述了 HTML5 中为实现更好的结构而引入的一些新元素:

*   `<section>`代表通用文档或应用部分。它可以和`h1`、`h2`、`h3`、`h4`、`h5`、`h6`元素一起使用，表示文档的结构。
*   `<article>`代表文档的独立内容，如博客条目或报纸文章。
*   `<aside>`代表一段与页面其余部分仅略有关联的内容。
*   `<hgroup>`代表一节的标题。
*   `<header>`代表一组介绍性或导航性的辅助设备。
*   代表一个部分的页脚，可以包含关于作者、版权信息和其他类似细节的信息。
*   `<nav>`表示文档中用于导航的部分。
*   `<figure>`表示一个独立的流程内容，通常从文档的主流程中作为一个单元引用，如下图:`<figure>
     <video src="example.webm" controls></video>
     <figcaption>Example</figcaption>
    </figure>`
*   `<figcaption>`可用作图像或其他图形内容的标题(可选)，如前面的代码示例所示。

此外，还有其他几个新元素:

*   `<video>`和< `audio>`用于多媒体内容。两者都提供了 API，因此应用作者可以编写他们自己的用户界面，但是也有一种方法可以触发用户代理提供的用户界面。`source`如果多个不同类型的流可用，则元素与这些元素一起使用。
*   `<track>`为视频元素提供文本轨道。
*   `<embed>`用于插件内容。
*   `<mark>`表示一个文档中的一串文本，由于其在另一个上下文中的相关性而被标记或突出显示以供参考。
*   `<progress>`代表一个任务的完成，比如下载或者执行一系列带宽昂贵的操作。这些信息对于宽带连接有限或使用拨号服务的人非常有用。
*   `<meter>`代表一种度量，如磁盘使用量。
*   `<time>`代表日期和/或时间。
*   `<ruby>`、<、`rt>`、<、`rp>`允许标记 ruby(一种开源面向对象编程语言)注释。
*   `<bdi>`表示一段文本，出于双向文本格式化的目的，该段文本将与其周围环境隔离。
*   `<wbr>`代表换行符机会。可以在字符串中使用断词。
*   `<canvas>`用于动态渲染动态位图图形，如图形或游戏。
*   `<command>`代表用户可以调用的命令。
*   `<details>`表示用户可以按需获取的附加信息或控件。`summary`元素提供了它的摘要、图例或标题。
*   `<keygen>`与更安全的表单创建相关，表示用于生成*密钥对*的控件，其中私钥或代码存储在客户端(本地)，公钥发送到服务器(远程)。
*   代表某种类型的输出，例如通过脚本完成的计算。
*   HTML5 表单上的< 】 element provides a field for the user to input data. In HTML5, it has new types and attributes. You might have some predefined input that you require from the user that you can define as option values (such as a 】 type, as shown in the next example). We’ll look at this in more detail in 第八章。`<input list="guitars" />
    <datalist id="guitars">
     <option value="Fender
     <option value="Gibson">
     <option value="Martin">
     <option value="Gretsch">
    </datalist>`
*   `<input>`元素有一个`type`属性，它现在有以下新值:
    *   `tel`
    *   `search`
    *   `url`
    *   `email`
    *   `datetime`
    *   `date`
    *   `month`
    *   `week`
    *   `time`
    *   `datetime-local`
    *   `number`
    *   `range`
    *   `color`

这些新的输入类型通过浏览器提供给用户界面。它们提供了更好、更复杂的表单验证方法，无需调用服务器就可以在客户端完成。在整本书中，我们还会看到许多新的属性。

同样在 HTML5 中，HTML 4 中的几个属性现在适用于所有元素。这些被称为*全局属性*，包括如下:`accesskey`、`class`、`dir`、`id`、`lang`、`style`、`tabindex`和`title`。

还有几个新的全局属性:

*   `contenteditable`属性表示该元素是一个可编辑区域。用户可以更改元素的内容并操作标记。
*   属性可以用来指向作者提供的上下文菜单。
*   作者定义属性的`data-*`集合允许作者定义他们想要的任何属性，只要他们以`data-`为前缀，以避免与 HTML 的未来版本冲突。对这些属性的唯一要求是它们不能用于用户代理扩展。
*   `draggable`和`dropzone`属性可以和新的拖放 API 一起使用。
*   `hidden`属性表示一个元素还不相关，或者不再相关。
*   `role`和`aria-*`集合属性可用于指示辅助技术。在第三章中会有更多关于 WAI-ARIA 的内容，“JavaScript 不是一个肮脏的词，ARIA 也不仅仅是美妙的音乐”，在那里我们会看到它是什么，如何将它添加到您的项目中，以及为什么它对可访问性很重要。
*   `spellcheck`属性允许提示是否可以对内容进行拼写检查。<sup>1</sup>

### HTML5:可访问性和功能检测

以上是对 HTML5 语言的一些新特性的介绍。正如我前面提到的，在后面的章节中，我们将会看到这些新特性是如何与可访问性相关联的，你可以用它们来做什么来构建可访问的界面，以及一些等待着你的挑战。

坏消息是，许多新的 HTML5 特性才开始被浏览器和辅助技术支持。从可访问性的角度来看，这意味着你可能必须有创造性，以确保你的内容实际工作，而不是采取“在规范中说这样做，所以这意味着它是受支持的”的方法。不幸的是，饼干不会这样碎掉。

此外，该规范并没有完全定义用户体验。(有理由认为这超出了规范的范围；然而，我倾向于另一种方式。)所以必须注意以一种实用的方式应用代码，以支持最大范围的用户。这就是你读这本书的原因，对吗？

好消息是，对 HTML5 的支持一直在改善，包括浏览器和辅助技术(at)，所以未来是光明的。您可能会发现，您想要使用的一些元素或属性在浏览器或辅助技术(有时两者都有)中得不到很好的支持，在我写这本书时，我非常清楚这一点。在可能的情况下，我将尝试说明如何以一种更老的标记也能支持的方式使用 HTML5，或者以其他可访问性语言如 WAI-ARIA(我将在后面详细介绍)支持的方式使用 HTML5。

__________

<sup>1</sup> 多亏了安妮·范·凯斯特伦和西蒙·皮特尔斯，关于新元素的大部分章节都来自`[www.w3.org/TR/html5-diff/](http://www.w3.org/TR/html5-diff/)`。版权所有 2011 W3C(麻省理工学院，ERCIM，庆应大学)。保留所有权利。

![Image](img/square.jpg) **注**在撰写本文时，浏览器市场的许多大玩家都有很好的 HTML5 支持。通常是 AT 不知道。

这本书在总体基调上特别关注向后兼容性，并试图帮助你支持所谓的*遗留用户代理*，或更老的浏览器和 at。以一种既支持理解 web 内容的新用户代理，也支持不理解 web 内容的新用户代理的方式来处理 web 内容的标记和设计(通过给他们一些东西来让他们了解语义)，是*渐进增强*的基础，这是一种更开明的设计方法。

![Image](img/square.jpg) **注意**在整本书中，我经常建议你借用其他更注重可访问性的语言，比如 WAI-ARIA，因为这是一种非常有用的方式来弥补你的项目中语义可访问性的差距。无论如何，WAI-ARIA 现在也正式成为 HTML5 规范的一部分，它是用来描述小部件的角色、状态或其他属性的完美工具。它在浏览器和 AT 中的支持也有所改进。

还有一些有趣的技术可以用在 HTML5 中，比如特征检测。作为作者，这允许您查询您的 web 内容所服务的用户代理，以便查看给定的浏览器是否支持 HTML5 的特定功能，然后为该浏览器提供该内容——或者如果浏览器不提供支持，则不提供该内容。如果这对您来说有点可怕，有一些工具，比如 Modernizr，可以帮助您完成大部分工作。

![Image](img/square.jpg) **注意** Modernizr 是一个开源的 JavaScript 库，它使用媒体查询和脚本特性检测。它可以成为构建 HTML5 页面的有用工具。您可以在`[`www.modernizr.com`](http://www.modernizr.com)`了解更多信息。

现在让我们来看一些关于可访问性的背景信息——什么是可访问性，为什么你需要让它成为你设计的一部分。

#### 定义可访问性

可访问性有几种定义。国际标准组织(ISO)是这样定义可访问性的:

> *“产品、服务、环境或设施由具有最广泛能力的人使用的可用性。”*

(ISO TC 16071，2003 年)

将这个定义应用到 Web 上可以确保你设计的界面可以被尽可能多的人使用，从而确保没有用户被遗漏。这听起来像一个崇高的理想，甚至可能看起来令人生畏(这是可以理解的)，但不要担心。当你把 HTML5、CSS 和 JavaScript 以正确的方式结合在一起时，你能做的事情真的很神奇。

W3C 在其“Web 可访问性介绍”中，将可访问性定义为:

> *“网络无障碍意味着残障人士可以使用网络。更具体地说，网页可访问性意味着残疾人可以感知、理解、浏览网页并与之互动，他们可以为网页做出贡献。网页可访问性也有利于其他人，包括因衰老而能力改变的老年人。”*

(WAI 无障碍介绍，2010 年)

你会注意到，第一个定义根本没有提到盲人用户或其他有残疾的人，但它谈到了一般可用性(我将在后面更详细地讨论)。我更喜欢给出的第二个定义，因为我认为可访问性是“关于残疾人的”这有助于我在理论上清楚地了解我试图服务的群体，也消除了定义中的一些模糊之处。我发现，如果某件事被定义得太宽泛或模糊，就很难知道该做什么或从哪里开始。通过缩小定义范围，你就有了一个更明确的参照点。

从技术上来说，可访问性可以被定义为可用性的子集，并被认为是另一个学科的孩子。话又说回来，*可用性*可以理解为人机交互(HCI)的产物，以前被称为“人因工程学”，更俗称*人机工程学*。

#### 可达性:从理论到实践

抛开各种定义的利弊不谈，在实践中，作为一名设计师，尝试理解受众的不同需求是非常重要的。这些需求有很大的不同，它们涵盖了不同技术知识、手的灵巧能力、视觉敏锐度、认知能力和速度的广泛人群。

那么一般的设计师如何有效地解释这一切呢？有没有方法可以实现这个目标(对设计师来说，不需要这个领域的学位！)这将帮助你在有时晦涩难懂的推荐中找到出路？这种追求可能会令人望而生畏，但答案是响亮的“是！”

这本书旨在帮助你批判性地评估你所做的设计决策，以及你从各种指导方针和最佳实践中得到的有时相互矛盾的建议，以便你能确定它适合你的需求。更重要的是，不要做出假设，因为“规范说*x*”,*x*必然是真的，或者 *x* 甚至可以工作。当涉及到可访问性时，这个警告更加切题。

各种浏览器和/或辅助技术(例如残障人士使用的屏幕阅读器)不支持或将不会支持许多 HTML5 元素和属性。尽管该规范可能清楚地概述了在现实世界中如何实现某个特定的特性，但如何实际实现该规范通常是由特定的*用户代理*(这是浏览器的一个总括术语，甚至是 AT 的一部分)的供应商(或制造商)来决定的。所以这确实在很大程度上影响了用户体验。如果你回想一下“浏览器战争”，当时没有呈现不同元素/属性的标准方法，CSS 必须根据它所服务的设备进行调整，你就会明白我的意思。

HTML5 也是如此，这本书旨在向您展示如何以一种向后兼容的方式让您的 web 内容经得起未来的考验(不管当前对不同 HTML5 元素的支持水平如何),这意味着您需要确保它能够在较旧的浏览器和。成功地做到这一点有时意味着不遵守规则。例如，谈到验证，当验证器解析您的内容时，您可能不得不忍受几个红色的大 X，并且您已经添加了一些特定的可访问性标记，如 WAI-ARIA(我将在后面详细介绍)，以构建可访问的 JavaScript 小部件。然而，验证器解析规则通常没有对这类文档做出适当的规定，所以会出现错误。但是我们不能总是事事如意——这就是生活。如果你更关心的是构建可访问的真正有用的东西，请继续阅读。但是要注意:您可能必须学会超越验证器来思考问题！

在本书的后面，当我们讨论以用户为中心的设计时，你会看到真正与用户联系的好处，以及如何使用替代的用户评估方法和技术，例如用户测试，它可以真正向你展示在你的设计中什么可行，什么不可行。

用户测试是帮助你与用户联系的一个很好的方式，可以让你实际感受到设计的对错。实现用户测试也是在你、设计者和最终用户之间架起一座桥梁的好方法。它也是从理论理解到实践理解设计决策如何影响用户的一种强有力的方式。

然而，用户测试可能很昂贵，或者根本不切实际。因此，我们还将看看您可以进行快速和肮脏的游击测试的方法，以及一些可能有助于您感受残疾人所遇到的用户体验的模拟技术。您可能还会从我稍后给出的关于使用屏幕阅读器测试自己的建议中受益。这个过程可能是喜忧参半，需要谨慎对待。这是因为您需要确信，在使用屏幕阅读器测试网站时遇到的任何问题实际上都是该网站的可访问性问题的结果，而不是您在掌握 at！

这是一个非常常见的问题，但我的目的是向您展示如何使用 JAWS 或 VoiceOver 等常见的屏幕阅读软件进行测试。我将讨论如何进行测试，解释当您使用屏幕阅读器时会发生什么，并描述一些要避免的常见错误。

#### 了解可访问性

好的、易访问的网站确实是好设计的自然副产品。好的设计来自于对一些核心事物的理解:

*   你在设计什么，你的网站的目的是什么
*   你的观众的需求
*   访问者在使用你的网站时真正想做什么

如前所述，可访问性乍一看似乎很抽象或深奥。许多开发人员会发现很难将它作为一门实用的学科来完全掌握。许多人就是不容易接近。

可访问性的某些方面最初比其他方面更容易理解，但是随着他们对最佳实践知识的加深，开发人员可以很快理解可访问性是相当实用的。

可达性是一条不断发展的线，一个连续体。然而，对于 AT 的用户来说，每个用户群都有一些不会真正改变的核心问题——即使技术改变了。例如，盲人用户需要能够访问向他们描述特定图像的等效内容，身体活动受限的人非常希望没有大量无用的链接来浏览，等等。

### 立法

根据您所在的国家，在构建网站时，您可能需要考虑不同的法律要求。立法对您的影响程度取决于您网站的目的，您是否打算与联邦政府做生意，或者您是否正在为公共部门机构进行设计和开发。

理解法律以及它与你的项目的关系是非常重要的。以下是不同领域立法的简要概述，首先包括美国，然后是英国。非常感谢 WebAIM 的 Jared Smith，以下大部分内容都是从他那里获得的。

#### 康复法

在美国，1973 年的《康复法》是为残疾人争取平等竞争环境的第一项重大立法努力。这项立法为身体和认知残疾者提供了广泛的服务。《康复法》自颁布以来已经修订了两次，一次是在 1993 年，另一次是在 1998 年。修订后的《康复法》中有两个条款对无障碍网页设计产生了影响:第 504 和 508 条。

##### 第 504 条

《康复法》第 504 条是一部民权法。这是美国第一部旨在保护残疾人免受基于其残疾状况的歧视的民权立法。该法的非歧视要求适用于接受联邦财政援助的雇主和组织。

《美国法典》第 29 卷第七百九十四部分第 504 条规定如下:

> *“在美国没有其他合格的残疾人...不得仅仅因为她或他的残疾而被排除在接受联邦财政援助的任何方案或活动之外，被剥夺福利或受到歧视。”*

因此，任何接受联邦资金的方案都不能基于残疾人的残疾状况歧视他们。所有政府机构、联邦资助的项目、K-12 学校和中学后实体(州立学院、大学和职业培训学校)都属于这一类。

##### 第五百零八部分

1998 年重新授权的康复法案包括对第 508 条的修订，您可以在`[`webaim.org/articles/laws/usa/rehab`](http://webaim.org/articles/laws/usa/rehab)`访问。该条款禁止联邦政府采购残疾人无法完全无障碍使用的电子和信息技术(E & IT)商品和服务。这包括网页设计的服务，因为特别提到了互联网。

##### 第 508 条的影响

为什么 508 条款如此重要？虽然它仅限于联邦机构，但 508 条款是一项极具影响力的立法。这至少有四个原因。

第 508 条为互联网提供了第一个美国联邦可访问性标准。在此之前，网站内容可访问性指南已经存在；然而，这些由 Web Accessibility Initiative (WAI)创建的指南并不打算作为标准来编写。此外，这些指导方针来自一个没有监管权力的志愿国际组织。

本节提供可远程监控的合规性语言。如前所述，指导方针确实存在，但不是法定语言。第 508 条概述了必须遵守的有约束力、可执行的标准，以便残疾人可以使用电子和信息技术产品。WebAIM Section 508 清单中提供了适用于 web 可访问性的 Section 508 标准列表。

州政府可能要对遵守第 508 条负责。所有的州都根据 1998 年的辅助技术法案接受资助。为了获得这笔资金，每个州必须向联邦政府保证，它将在其州实体(包括高等教育机构)内实现第 508 条的所有条件。许多州(例如，亚利桑那州、内布拉斯加州和威斯康星州)已将第 508 条编纂为州法律，要求州机构遵守这些要求。

企业在向联邦政府提供 E&IT 产品和服务时，必须遵守第 508 条。当像美国联邦政府这样的客户或潜在客户的需求必须得到满足时，web 可访问性对商业和工业的影响就更加显著。

##### 第五百零八部分强制执行

美国司法部民权办公室负责执行 508 条款。出现投诉时，公众、学生和残疾员工可以采取以下措施:

*   向他们认为违反 508 条款的机构提出行政投诉。
*   向联邦地区法院提起私人诉讼。
*   通过美国司法部民权办公室提出正式投诉。

总检察长办公室被要求评估政府遵守第 508 条的情况。它还需要向总统和国会提供关于残疾人使用联邦电子和信息技术的最新报告，以及针对联邦机构的 508 条款投诉的解决方案。第一份此类报告于 2001 年 8 月提交，此后每两年提交一次。

##### 自愿产品可访问性模板

自愿产品可访问性模板(VPAT)提供了您如何遵守第五百零八部分的详细信息。这是一种(预先)说明你的产品或服务的可及性的方式。这有助于采购过程，因为联邦机构可以了解您的网站或产品与其他网站或产品相比表现如何。

![Image](img/square.jpg) **注**有关 VPATs 及其使用方法的更多信息，参见`[www.evengrounds.com/articles/creating-an-effective-vpat](http://www.evengrounds.com/articles/creating-an-effective-vpat)`。

#### 其他相关立法

虽然遵守 Section 508 是大多数联邦 web 项目的主要关注点，但还需要考虑与此相关的其他法案(虽然没有明确提到互联网)。

##### 美国残疾人法案

美国于 1990 年通过的《美国残疾人法案》是由司法部管辖的民权立法。这项法律的目标是确保残疾人能够有平等的机会参与计划、服务和活动。请注意，ADA 并不直接处理互联网的可访问性。这可能是因为在《反倾销协定》通过的同时，互联网刚刚成为一种广泛使用的工具。然而，ADA 中有两个主要部分可能适用于网页可访问性:

*   第二编规定，与残疾人的交流必须“与他人的交流一样有效”[28 C.F.R. ss 35.160 (a)]
*   第三编涉及残疾人的公共住宿

##### 残疾人教育法

美国 1997 年修订的《残疾人教育法》(IDEA)为所有残疾儿童提供了从学前到高中的“免费的适当公共教育”。

这个想法在以下几个方面与网络有关:

*   K-12 学校系统每年都在更大程度上使用互联网。事实上，它有两种不同的用途:
    *   教师用它为学生提供历史、科学、英语或数学等领域的普通教育课程。学生可以探索材料和信息，进行研究，从事活动，甚至在线考试。
    *   美国大多数州的教育目标是让学生学会使用互联网。因此，这本身就成为一门课程。
*   另一项相关的立法是 1996 年《电信法》第 255 条，该条“要求电信设备和用户驻地设备的制造商确保设备的设计、开发和制造便于残疾人使用。”

#### 【1995 年《残疾歧视法》

在联合王国，出台了《残疾歧视法》,以消除对残疾人的歧视，并在就业、获得商品和服务以及购买或租赁土地或财产方面赋予他们新的权利。

该法(第三部分)中有一些条款可以说适用于网站，并自 1999 年 10 月 1 日起生效。

然而，最初的《1995 年残疾歧视法》是有限的，遗漏了一些重要领域，如教育。这意味着大学不必确保他们的教育服务是可获得的。2001 年《特殊教育需求和残疾法》的通过解决了这一问题。

#### 【2001 年《特殊教育需求和残疾法》

《2001 年特殊教育需求和残疾法》作为《1995 年残疾歧视法》的修正案出台。

SENDA 在英格兰、威尔士和苏格兰引入了针对残疾人的教育条款。它旨在为英格兰、苏格兰和威尔士的在校残疾人争取“全面的可强制执行的公民权利”。它对继续教育机构、课程的讲授方式以及对学生的支持方式都有重大影响。

#### PAS78、《残疾歧视法》和 2010 年《平等法》

PAS78 是一份对英国无障碍网站采购人员非常有用的文件。本出版物为组织提供了关于如何委托设计机构设计可访问网站的指导。它描述了对网站的期望，以符合英国《1995 年残疾人歧视法》( DDA ),使残疾人可以访问和使用网站。2010 年,《残疾歧视法》被《平等法》取代。您可以在以下网站找到更多详细信息:

*   PAS78 `: [www.equalityhumanrights.com/footer/accessibility-statement/general-web-accessibility-guidance](http://www.equalityhumanrights.com/footer/accessibility-statement/general-web-accessibility-guidance)`
*   2010 年《平等法》:`[www.legislation.gov.uk/ukpga/2010/15/contents](http://www.legislation.gov.uk/ukpga/2010/15/contents)`

#### 欧洲立法

每个欧洲联盟(欧盟)成员国都有许多单独的立法，但 EU-也有一些与网络和电子包容相关的总体立法。

![Image](img/square.jpg) **注***电子包容*一词的意思是，在享受信息和通信技术(ICT)的好处时，任何人都不应被抛在后面。根据欧洲委员会，电子包容意味着"包容性的信通技术和利用信通技术实现更广泛的包容目标"。 <sup> 2 </sup> 它侧重于所有个人和社区参与信息社会的各个方面。因此，电子包容政策旨在缩小信通技术使用方面的差距，促进信通技术的使用，以克服排斥，改善经济表现、就业机会、生活质量、社会参与和凝聚力。"

##### 欧盟基本权利宪章

《欧盟基本权利宪章》提到了残疾人:

*   除其他外，第 21 条禁止基于残疾的歧视。
*   第二十六条明确承认残疾人的权利以及确保他们独立、融入社会和职业以及参与社区生活的必要性。

##### i2010:欧洲信息社会

i2010 是欧盟关于信息社会和媒体的政策框架(2005-2009 年)。它促进了信息和通信技术(ICT)对经济、社会和个人生活质量的积极贡献。该战略现在即将结束，接下来是一项新的计划——欧洲数字议程。更多信息，参见`[`ec.europa.eu/information_society/digital-agenda/local/index_en.htm`](http://ec.europa.eu/information_society/digital-agenda/local/index_en.htm)`。

##### 2005 年欧洲国家杯

在此之前，2002 年 6 月在塞维利亚欧洲理事会上发起了电子欧洲 2005 年行动计划，并在 2003 年 1 月的电子欧洲决议中得到部长理事会的批准。它旨在通过以有竞争力的价格广泛提供宽带接入和安全的信息基础设施，为电子商务发展现代公共服务和充满活力的环境。此前是 2002 年电子欧洲。

__________

<sup>2</sup>

![Image](img/square.jpg) **注**好了，害怕了？别担心。这些都包括在这里，只是为了描绘一幅关于可访问性是如何被认真对待的图画。是的，不同国家的程度不同，但有一个必要。所以你应该有动力去做正确的事情。

好消息是，即使你没有完全实现一个“无所不能、无所不能、无障碍上网”的网站，真诚地努力完成你的项目(以我的经验来看)对使用它的残疾人来说意义重大。

这是当人们感到他们被积极地歧视，一个组织只是不在乎会有麻烦。实际上，网站上的“可访问性”声明实际上是一种“不可访问性”声明——如果你定义了你已经做了或没有做的范围，以及正在进行的工作，这是有意义的。如果你在这种事情上开诚布公，它肯定会有助于公开性、透明度和普遍的善意——这总是一件好事。

### 应对变化和多样性

在许多方面，易访问性原则包含了我们作为设计师的能力，以积极的方式处理变化和开发能够适应多样性的设计。随着年龄的增长，我们中的许多人都会经历一些自然的变化，例如失明和其他身体和精神上的变化。因此，我们执行某些任务的能力和我们需要的设备也可能发生变化。真正理解可访问性包括扩展我们处理这些变化的能力。

设计师努力的成功往往取决于他们能多好地适应不同的用户需求。使用新的工具、语言和开发方法实际上只是对我们能力的测试，HTML5 的出现也不例外。如果作为一名开发人员，你以前有一些构建可访问界面的经验，你所获得的来之不易的知识将会使你受益。使用 HTML5 进行开发时，您不必重新发明轮子或从某种“零年”开始。你可能不得不重新思考你对某些内容的处理方式，因为已经有了一些改变游戏规则的东西，但主要的是，你将能够很好地建立在你之前所学的基础上。

现实情况是，尽管所使用的语言和开发方法经常会快速变化，但残疾人的需求却是相当稳定的。这本书集中在为残疾人设计的一些核心方面，希望能简化和增强你对这个过程的理解。

### 可访问性有什么好处？

无障碍网页设计和开发有一些实质性的好处:

*   这具有很好的商业意义:通过确保没有人被排除在网站之外，构建易访问的网站实际上可以增加企业的收入。有一些详细记录的案例研究概述了可访问性的商业好处，例如以下公司所经历的:
    *   **Legal & General Group:** 访客数量增加了一倍，维护成本减少了三分之二，自然搜索流量增加了 50%。
    *   乐购:花费了 35，000 英镑来建立它的网站，每年有 1，300 万英镑的收入。
*   **CNET:** 在谷歌开始提供文字记录后，它的流量增加了 30%。“当我们推出网站的 HTML 版本时，我们看到搜索引擎优化推荐的显著增加，其中的主要组成部分是我们的抄本，”CNET 的贾斯汀·埃克豪斯说。(W3C 商业案例示例，2009 年)

这些好处可以大致分为以下几类:

*   **社会因素:**增强的网页可访问性消除了交流和互动的障碍，为残疾人提供了平等的机会。
*   **技术因素:**网站可访问性的提高提高了互操作性和质量，减少了网站开发和维护时间以及服务器负载。它还有助于确保内容能够在不同的配置上运行，并确保开发人员为先进的 web 技术做好准备。
*   **财务因素:**更好的可访问性提高了搜索引擎优化(SEO ),并由于更容易的维护等而提高了直接成本节约。
*   **法律和政策因素:**网页可访问性的提高以法律、政策、法规和标准的形式满足了政府和其他组织对网页可访问性的要求。
*   **更好的设计:**平面设计师往往是为自己设计的。情况并不总是这样，但往往是真的。因此，网络上充斥着使用无法调整大小的微小文本、难以辨认的字体和糟糕的颜色对比度的网站。这通常会导致网站内容对许多人来说不可读。(WAI 无障碍商业案例，2010 年)

![Image](img/square.jpg) **注意**一个好的设计原则是“形式应该服从功能”这是一个简单但有效的经验法则，不幸的是，它经常被忽视或遗忘。随着你阅读这本书的进展，我希望你会开始明白，开发易访问的界面所需要做的事情实际上可以归结为良好的设计和编码实践。可访问性是非常实用的，归结为格式良好的代码、良好的用户界面设计、可靠的信息架构、人性化和可访问的表单验证以及错误恢复。好消息是，所有这些好东西不仅对残疾人有益，而且对所有人都有益。

### 易访问性应该增强你的设计——而不是破坏它

在实践中，可访问性使一些重要的基本设计问题重新成为设计师关注的焦点。这是一件好事。我们经常在网络上看到闪亮的新事物，然后像我这样的人走过来，更仔细地看，发现从可访问性的角度来看这是行不通的。那么我们必须是那些说“等一下”的人因此，人们的感觉是，无障碍社区是反进步或反设计的。

不是这样的，不，我们不想毁了这个派对。我们只是知道一点什么可行，什么不可行。网络上充满了无法访问的东西。事实上，网络天生就是坏的，很多东西不应该工作，但却工作了，这本身就很神奇。

让我们看看可访问性如何以积极的方式限制一个项目。请考虑以下几点:

*   具有*可访问性*意味着设计者必须仔细考虑他或她如何在视觉上呈现内容(在清晰的设计和颜色对比方面)，以及网站的底层语义结构如何适应残疾人，或者复杂的动态控件如何被残疾人使用。这些“约束”的效果是，设计者必须理想地只使用适合手头任务的任何开发技术、元素或属性——正确工作的正确工具。这种方法在开发 HTML5 web 内容时非常重要(稍后当我们查看像`<canvas>`这样的新元素时将会演示这一点)。

所以易访问性不是反设计，而仅仅是一个挑战。实际上，它有助于将您的设计建立在全面的最佳实践基础上，因此带来了额外的好处，例如更经得起未来考验的、可互操作的应用和网站。

### WCAG 2.0 和 HTML5

网站内容可访问性指南(WCAG 2.0)是经过精心设计的，在技术上是不可知的，我相信当您构建自己的网站和应用时，您会发现其中的常识。构建可访问的工作内容是一个非常微妙的领域。正如我前面提到的，您必须以一种实用的方式平衡代码和这些指南的实际应用。可及性不是理论上的、神秘的或虚无缥缈的。

残疾人的需求是非常真实的，这些指南只是指南，而不是标准。它们旨在提供信息和指导，最终的结果是你有更多可访问和可用的界面。

![Image](img/square.jpg) **注意**目前，WCAG 2.0 没有很多(或任何)HTML5 测试用例。然而，在我写这篇文章的时候，有人在努力为 accessible 和符合 WCAG 2.0 的 HTML5 开发指导和测试套件，随着时间的推移，将会有更多的可用。所以继续关注`[www.w3.org/WAI/GL](http://www.w3.org/WAI/GL)`。

WCAG 主要用于以下目的:

*   Web 内容开发人员(页面作者、网站设计人员和其他类似的专业人员)
*   Web 创作工具开发人员
*   Web 可访问性评估工具开发人员
*   其他想要或需要网页可访问性技术标准的人

WCAG 和相关资源也旨在满足许多不同受众的需求，包括不熟悉 Web 可访问性的人、决策者、管理者和其他人。WCAG 1.0 有各种优先检查点；WCAG 2.0 有*成功标准*。WCAG 1.0 是围绕一套指导原则组织的，而 WCAG 2.0 是围绕四个简单的原则组织的，这四个原则形成了 POUR 的缩写。

*   原则 1:内容必须是可感知的(P)。这一原则适用于所有内容，包括多媒体、视频和音频:
    *   为所有非文本内容提供文本替换。
    *   为多媒体(如字幕视频、音频描述等)提供同步的替代方案
    *   信息和结构必须与表示分开。
    *   使前景信息与背景易于区分(例如，具有良好的颜色对比度)。
*   原则 2:界面元素必须是可操作的(O):
    *   所有功能必须可以通过键盘操作。
    *   用户必须能够控制他们的阅读或互动的限制。
    *   用户必须能够避免因光敏性而导致癫痫发作的内容。
    *   为用户提供查找内容、自我定位和导航的机制。
    *   帮助用户避免错误，并在出现错误时更容易纠正。
*   原则 3:内容和控制必须易于理解(U):
    *   使文本内容具有可读性和可理解性。
    *   使内容的位置和功能可预测。
*   原则 4:内容应该足够强大，能够与当前和未来的技术协同工作(R):
    *   支持与当前和未来用户代理的兼容性。
    *   确保内容是可访问的，或者提供可访问的替代方案(摘自 WAI 简介，2010 年)。

我希望你能看到大部分建议都很实用。事实上，通常是“只要满足特定的标准，你如何到达那里并不重要”，就像刚刚概述的那样。

### html 5 可访问性的挑战

正如你所看到的，有很多变化正在发生！正如任何新的重大变革一样，它可能不会一帆风顺。应对这种变化可能会很困难，因为目标实际上是在移动的。这部分是因为 HTML5 本身仍处于草案阶段。然而，它已经达到了它的第一个信用证(或最后一个电话)征求意见。因此，它正接近稳定状态。

这给编写 HTML5 带来了一些挑战，因为它在浏览器和 AT 中的支持才刚刚开始。然而，当浏览器实现它们时，AT 技术也随之而来。发生这种情况是因为供应商可以看到某些功能正在被使用，因此他们会选择支持什么以及这将如何影响用户体验。最终，好消息是，随着 HTML5 的出现，工具包得到了极大的扩展，尽管当涉及到如何标记 web 项目时，您可能会经常面临选择过多的问题。

正如我前面提到的，HTML 4 带来的语义盛宴非常令人惊叹。

### 结论

在这一章中，我向你介绍了无障碍网页设计的奇妙世界，并让你感受到了一些即将面临的挑战。会有起伏，但它真的可以很有趣。你不会总是把事情做对，但是努力去做要走很长的路。在下一章，我们将更详细地研究残疾以及一些更常用的辅助技术。